  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('8123750122524000825', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to DeviseCreateUsers (20230201000225)
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_email` ON `users` (`email`)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_users_on_reset_password_token` ON `users` (`reset_password_token`)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230201000225')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateViews (20230201000603)
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE `views` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_views_on_email` ON `views` (`email`)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_views_on_reset_password_token` ON `views` (`reset_password_token`)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230201000603')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBooks (20230203222539)
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE `books` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `author` varchar(255), `publisher` varchar(255), `price` decimal, `stock` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230203222539')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReviews (20230203223030)
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE `reviews` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `rating` int, `review` text, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230203223030')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToReviews (20230203223713)
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE `reviews` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX `index_reviews_on_user_id` ON `reviews` (`user_id`)[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE `reviews` ADD CONSTRAINT `fk_rails_74a66bd6c5`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE `reviews` ADD `book_id` bigint NOT NULL[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX `index_reviews_on_book_id` ON `reviews` (`book_id`)[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE `reviews` ADD CONSTRAINT `fk_rails_924a0b30ca`
FOREIGN KEY (`book_id`)
  REFERENCES `books` (`id`)
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230203223713')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateAdmins (20230214211802)
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE `admins` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `email` varchar(255) DEFAULT '' NOT NULL, `encrypted_password` varchar(255) DEFAULT '' NOT NULL, `reset_password_token` varchar(255), `reset_password_sent_at` datetime, `remember_created_at` datetime, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admins_on_email` ON `admins` (`email`)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX `index_admins_on_reset_password_token` ON `admins` (`reset_password_token`)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214211802')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePurchases (20230214214619)
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE `purchases` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `credit_card` decimal, `phone_number` decimal, `address` text, `total_price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214214619')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20230214214711)
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214214711')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartDetails (20230214214819)
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE `cart_details` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `quantity` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214214819')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToCartDetails (20230214214913)
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE `cart_details` ADD `book_id` bigint NOT NULL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX `index_cart_details_on_book_id` ON `cart_details` (`book_id`)[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE `cart_details` ADD CONSTRAINT `fk_rails_61352dd9c5`
FOREIGN KEY (`book_id`)
  REFERENCES `books` (`id`)
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE `cart_details` ADD `cart_id` bigint NOT NULL[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX `index_cart_details_on_cart_id` ON `cart_details` (`cart_id`)[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE `cart_details` ADD CONSTRAINT `fk_rails_cacf5c53ab`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214214913')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToPurchase (20230214214943)
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE `purchases` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX `index_purchases_on_user_id` ON `purchases` (`user_id`)[0m
  [1m[35m (6.9ms)[0m  [1m[35mALTER TABLE `purchases` ADD CONSTRAINT `fk_rails_2888c5cba9`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE `purchases` ADD `cart_id` bigint NOT NULL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX `index_purchases_on_cart_id` ON `purchases` (`cart_id`)[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE `purchases` ADD CONSTRAINT `fk_rails_7ccaadabab`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214214943')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToUsers (20230214220522)
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE `users` ADD `username` varchar(255)[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE `users` ADD `name` varchar(255)[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE `users` ADD `credit_card` varchar(16)[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE `users` ADD `phone_number` varchar(10)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214220522')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToAdmins (20230214220545)
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE `admins` ADD `username` varchar(255)[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE `admins` ADD `name` varchar(255)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214220545')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeysToCart (20230214220724)
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE `carts` ADD `user_id` bigint NOT NULL[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX `index_carts_on_user_id` ON `carts` (`user_id`)[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE `carts` ADD CONSTRAINT `fk_rails_ea59a35211`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230214220724')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeyToUsers (20230215004238)
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE `users` ADD `address` varchar(255)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230215004238')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKeyToReviews (20230215063537)
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE `reviews` ADD `admin_id` bigint[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX `index_reviews_on_admin_id` ON `reviews` (`admin_id`)[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE `reviews` ADD CONSTRAINT `fk_rails_6357cafba9`
FOREIGN KEY (`admin_id`)
  REFERENCES `admins` (`id`)
[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE `reviews` CHANGE `user_id` `user_id` bigint DEFAULT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230215063537')[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeCreditCardToBeStringInPurchases (20230216041816)
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE `purchases` CHANGE `credit_card` `credit_card` varchar(255) DEFAULT NULL[0m
  [1m[35m (5.9ms)[0m  [1m[35mALTER TABLE `purchases` CHANGE `phone_number` `phone_number` varchar(255) DEFAULT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20230216041816')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2023-02-20 23:02:04.246845', '2023-02-20 23:02:04.246845')[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('8123750122524000825')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:9:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl1', 'JPJ', 'Pub1', 200, 5, '2023-02-20 23:02:07.955924', '2023-02-20 23:02:07.955924')[0m
  ↳ lib/tasks/seeds.rake:9:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:9:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:10:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl2', 'JPJ1', 'Pub2', 200, 2, '2023-02-20 23:02:07.968254', '2023-02-20 23:02:07.968254')[0m
  ↳ lib/tasks/seeds.rake:10:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:10:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:11:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl3', 'JPJ', 'Pub1', 230, 1, '2023-02-20 23:02:07.970072', '2023-02-20 23:02:07.970072')[0m
  ↳ lib/tasks/seeds.rake:11:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:11:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:12:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl4', 'JPJ2', 'Pub4', 220, 16, '2023-02-20 23:02:07.971647', '2023-02-20 23:02:07.971647')[0m
  ↳ lib/tasks/seeds.rake:12:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:12:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:13:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl5', 'JPJ', 'Pub1', 200, 3, '2023-02-20 23:02:07.973321', '2023-02-20 23:02:07.973321')[0m
  ↳ lib/tasks/seeds.rake:13:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:13:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:14:in `block (2 levels) in <main>'
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Artemis Fowl6', 'JPJ3', 'Pub5', 201, 1, '2023-02-20 23:02:07.974813', '2023-02-20 23:02:07.974813')[0m
  ↳ lib/tasks/seeds.rake:14:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:14:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = BINARY 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`username` = 'illuminati' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = BINARY 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`username` = 'illuminati' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO `admins` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('illuminati@gmail.com', '$2a$12$PP7536sjKbxmJzBHjGDwNeCB4HNoO1BZqH1CPU.Mqx7hfUYwVlUfW', '2023-02-20 23:02:47.983185', '2023-02-20 23:02:47.983185', 'illuminati', 'illuminati')[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = BINARY 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`email` = 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `admins` WHERE `admins`.`username` = 'coffee' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO `admins` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('coffee@gmail.com', '$2a$12$PP7536sjKbxmJzBHjGDwNeCB4HNoO1BZqH1CPU.Mqx7hfUYwVlUfW', '2023-02-20 23:02:48.227902', '2023-02-20 23:02:48.227902', 'coffee', 'Mistubishi')[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
Started GET "/" for ::1 at 2023-02-20 18:02:54 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1052)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1613)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 3.2ms | Allocations: 9358)


Started GET "/" for ::1 at 2023-02-20 18:02:54 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 227)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 436)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1027)


Started GET "/" for ::1 at 2023-02-20 18:02:55 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 394)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 858)


Started GET "/" for ::1 at 2023-02-20 18:02:55 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 393)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 852)


Started GET "/" for ::1 at 2023-02-20 18:02:58 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 394)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 858)


Started GET "/" for ::1 at 2023-02-20 18:06:37 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1156)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 1717)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 7459)


Started GET "/" for ::1 at 2023-02-20 18:07:00 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1564)
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 5881)


Started GET "/" for ::1 at 2023-02-20 18:07:25 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230220211719_add_demo_keys_to_admin.rb


):
  
activerecord (6.1.7.2) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.7.2) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.7.2) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.7.2) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.7.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.6.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.6) lib/rack/proxy.rb:87:in `call'
railties (6.1.7.2) lib/rails/engine.rb:539:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2023-02-20 18:07:52 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1619)
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 5936)


Started GET "/" for ::1 at 2023-02-20 18:10:41 -0500
  [1m[35m (3.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230220211719_add_demo_keys_to_admin.rb


):
  
activerecord (6.1.7.2) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.7.2) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.7.2) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.7.2) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.7.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.2) lib/rack/method_override.rb:24:in `call'
rack (2.2.6.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.6.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.2) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
rack-mini-profiler (2.3.4) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.4) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.6) lib/rack/proxy.rb:87:in `call'
railties (6.1.7.2) lib/rails/engine.rb:539:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2023-02-20 18:11:20 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1049)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1620)
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 5937)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 18:11:24 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 298)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 21.0ms | Allocations: 7459)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 7679)
Completed 200 OK in 60ms (Views: 23.9ms | ActiveRecord: 6.3ms | Allocations: 23020)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 18:11:28 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (2.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminati' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 13ms (ActiveRecord: 2.6ms | Allocations: 3050)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 63)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1408)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1604)
Completed 200 OK in 284ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 3328)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminati' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminati' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mAdmin Create (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('illuminati@gmail.com', '$2a$12$PP7536sjKbxmJzBHjGDwNeCB4HNoO1BZqH1CPU.Mqx7hfUYwVlUfW', '2023-02-20 23:11:37.851260', '2023-02-20 23:11:37.851260', 'illuminati', 'illuminati')[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:4:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'coffee' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'coffee@gmail.com' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'coffee' LIMIT 1[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mAdmin Create (0.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('coffee@gmail.com', '$2a$12$PP7536sjKbxmJzBHjGDwNeCB4HNoO1BZqH1CPU.Mqx7hfUYwVlUfW', '2023-02-20 23:11:38.098008', '2023-02-20 23:11:38.098008', 'coffee', 'Mistubishi')[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ lib/tasks/seeds.rake:5:in `block (2 levels) in <main>'
Started GET "/admins/sign_in" for ::1 at 2023-02-20 18:11:50 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 321)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4977)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 5477)
Completed 200 OK in 28ms (Views: 8.0ms | ActiveRecord: 6.4ms | Allocations: 23655)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 18:11:55 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminati' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 294ms (ActiveRecord: 1.7ms | Allocations: 5599)


Started GET "/" for ::1 at 2023-02-20 18:11:55 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1967)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2227)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 3694)


Started GET "/" for ::1 at 2023-02-20 18:12:48 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1367)
Completed 200 OK in 6ms (Views: 3.3ms | ActiveRecord: 1.5ms | Allocations: 1899)


Started GET "/" for ::1 at 2023-02-20 18:12:48 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 1367)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.8ms | Allocations: 1829)


Started GET "/reviews" for ::1 at 2023-02-20 18:13:50 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  Rendered reviews/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 7839)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 8083)
Completed 200 OK in 32ms (Views: 11.2ms | ActiveRecord: 6.7ms | Allocations: 12913)


Started GET "/" for ::1 at 2023-02-20 18:13:52 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1252)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1442)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.4ms | Allocations: 1963)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 18:13:54 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.3ms | Allocations: 3013)


Started GET "/" for ::1 at 2023-02-20 18:13:55 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 448)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 1000)


Started GET "/users/sign_in" for ::1 at 2023-02-20 18:13:56 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1354)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1543)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 2191)


Started GET "/" for ::1 at 2023-02-20 18:13:59 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 393)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 852)


Started GET "/users/sign_up" for ::1 at 2023-02-20 18:14:00 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.2ms | Allocations: 244)
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 175)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 4215)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 4434)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 6008)


Started POST "/users" for ::1 at 2023-02-20 18:14:08 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test1@gmail.com", "username"=>"test1", "name"=>"test1", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test1@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' LIMIT 1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('test1@gmail.com', '$2a$12$JENcdJ.4pQFjDXo6uTk5ieBTGmoHdmb6S4Z4E5SvI1.PWJTQewEtu', '2023-02-20 23:14:08.994835', '2023-02-20 23:14:08.994835', 'test1', 'test1')[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 292ms (ActiveRecord: 5.4ms | Allocations: 10520)


Started GET "/" for ::1 at 2023-02-20 18:14:09 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2023-02-20 23:14:09.031174', '2023-02-20 23:14:09.031174', 3)[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 663)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 868)
Completed 200 OK in 21ms (Views: 0.7ms | ActiveRecord: 8.5ms | Allocations: 16002)


Started GET "/reviews" for ::1 at 2023-02-20 18:15:43 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3487)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 3676)
Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 5.5ms | Allocations: 4821)


Started GET "/" for ::1 at 2023-02-20 18:15:45 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 726)
Completed 200 OK in 10ms (Views: 2.1ms | ActiveRecord: 3.8ms | Allocations: 3412)


Started GET "/books" for ::1 at 2023-02-20 18:15:46 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3307)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3550)
Completed 200 OK in 37ms (Views: 10.6ms | ActiveRecord: 13.4ms | Allocations: 10599)


Started GET "/books/1" for ::1 at 2023-02-20 18:15:47 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 1 AND `cart_details`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1727)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 1950)
Completed 200 OK in 103ms (Views: 7.9ms | ActiveRecord: 12.2ms | Allocations: 7369)


Started GET "/cart/add_to_cart?book_id=1&quantity=2&commit=Add+to+cart" for ::1 at 2023-02-20 18:15:50 -0500
Processing by CartsController#add_to_cart as HTML
  Parameters: {"book_id"=>"1", "quantity"=>"2", "commit"=>"Add to cart"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCartDetail Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 1 AND `cart_details`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:7:in `add_to_cart'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mCartDetail Create (1.5ms)[0m  [1m[32mINSERT INTO `cart_details` (`quantity`, `created_at`, `updated_at`, `book_id`, `cart_id`) VALUES (2, '2023-02-20 23:15:50.188400', '2023-02-20 23:15:50.188400', 1, 1)[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
Redirected to http://localhost:3000/books
Completed 302 Found in 45ms (ActiveRecord: 17.2ms | Allocations: 11963)


Started GET "/books" for ::1 at 2023-02-20 18:15:50 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2264)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2466)
Completed 200 OK in 24ms (Views: 6.4ms | ActiveRecord: 8.8ms | Allocations: 7759)


Started GET "/reviews/new?book_id=1" for ::1 at 2023-02-20 18:15:54 -0500
Processing by ReviewsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/_form.html.erb:24
  Rendered reviews/_form.html.erb (Duration: 15.3ms | Allocations: 3282)
  Rendered reviews/new.html.erb within layouts/application (Duration: 17.6ms | Allocations: 3684)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 3885)
Completed 200 OK in 30ms (Views: 16.5ms | ActiveRecord: 4.3ms | Allocations: 7878)


Started POST "/reviews" for ::1 at 2023-02-20 18:15:58 -0500
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"user_id"=>"3", "book_id"=>"1", "rating"=>"4", "review"=>"Good"}, "commit"=>"Create Review"}
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mReview Create (1.2ms)[0m  [1m[32mINSERT INTO `reviews` (`rating`, `review`, `created_at`, `updated_at`, `user_id`, `book_id`) VALUES (4, 'Good', '2023-02-20 23:15:58.414063', '2023-02-20 23:15:58.414063', 3, 1)[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
Redirected to http://localhost:3000/reviews/1
Completed 302 Found in 13ms (ActiveRecord: 5.1ms | Allocations: 5168)


Started GET "/reviews/1" for ::1 at 2023-02-20 18:15:58 -0500
Processing by ReviewsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:39:in `show'
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering reviews/show.html.erb within layouts/application
  Rendered reviews/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 385)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 578)
Completed 200 OK in 16ms (Views: 3.5ms | ActiveRecord: 5.3ms | Allocations: 3376)


Started GET "/" for ::1 at 2023-02-20 18:15:59 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 554)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 742)
Completed 200 OK in 11ms (Views: 2.9ms | ActiveRecord: 3.4ms | Allocations: 3456)


Started GET "/users/sign_out" for ::1 at 2023-02-20 18:16:00 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 1.2ms | Allocations: 1939)


Started GET "/" for ::1 at 2023-02-20 18:16:00 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 402)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 866)


Started GET "/users/sign_up" for ::1 at 2023-02-20 18:16:01 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 100)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2589)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2777)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 3331)


Started GET "/" for ::1 at 2023-02-20 18:16:10 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 393)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 852)


Started GET "/users/sign_up" for ::1 at 2023-02-20 18:16:14 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.1ms | Allocations: 47)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 100)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2557)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2745)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms | Allocations: 3293)


Started POST "/users" for ::1 at 2023-02-20 18:16:24 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@gmail.com", "username"=>"test2", "name"=>"test2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test2@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test2@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test2' LIMIT 1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('test2@gmail.com', '$2a$12$mSTsUTRj7p9UzrgKvETZqO3a/Ct4vbxEtII8p/nd.NWWskLaYPV8y', '2023-02-20 23:16:24.377562', '2023-02-20 23:16:24.377562', 'test2', 'test2')[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 291ms (ActiveRecord: 4.2ms | Allocations: 9008)


Started GET "/" for ::1 at 2023-02-20 18:16:24 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2023-02-20 23:16:24.392111', '2023-02-20 23:16:24.392111', 4)[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 728)
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 3.5ms | Allocations: 6892)


Started GET "/reviews" for ::1 at 2023-02-20 18:16:31 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.5ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3619)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 3808)
Completed 200 OK in 19ms (Views: 8.3ms | ActiveRecord: 7.4ms | Allocations: 5535)


Started GET "/" for ::1 at 2023-02-20 18:16:33 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 726)
Completed 200 OK in 10ms (Views: 2.1ms | ActiveRecord: 3.3ms | Allocations: 3394)


Started GET "/books" for ::1 at 2023-02-20 18:16:34 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2208)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2397)
Completed 200 OK in 28ms (Views: 6.6ms | ActiveRecord: 11.7ms | Allocations: 8315)


Started GET "/books/1" for ::1 at 2023-02-20 18:16:39 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 4 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 2 AND `cart_details`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 993)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1182)
Completed 200 OK in 13ms (Views: 2.3ms | ActiveRecord: 4.7ms | Allocations: 4568)


Started GET "/books" for ::1 at 2023-02-20 18:16:41 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2208)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2397)
Completed 200 OK in 27ms (Views: 7.5ms | ActiveRecord: 10.4ms | Allocations: 8308)


Started GET "/reviews/new?book_id=1" for ::1 at 2023-02-20 18:16:41 -0500
Processing by ReviewsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering reviews/new.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/_form.html.erb:24
  Rendered reviews/_form.html.erb (Duration: 5.2ms | Allocations: 2013)
  Rendered reviews/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2140)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2328)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.5ms | Allocations: 2758)


Started POST "/reviews" for ::1 at 2023-02-20 18:16:45 -0500
Processing by ReviewsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "review"=>{"user_id"=>"4", "book_id"=>"1", "rating"=>"3", "review"=>"Scam"}, "commit"=>"Create Review"}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mReview Create (1.5ms)[0m  [1m[32mINSERT INTO `reviews` (`rating`, `review`, `created_at`, `updated_at`, `user_id`, `book_id`) VALUES (3, 'Scam', '2023-02-20 23:16:45.678457', '2023-02-20 23:16:45.678457', 4, 1)[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/reviews_controller.rb:61:in `block in create'
Redirected to http://localhost:3000/reviews/2
Completed 302 Found in 13ms (ActiveRecord: 5.5ms | Allocations: 3886)


Started GET "/reviews/2" for ::1 at 2023-02-20 18:16:45 -0500
Processing by ReviewsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:39:in `show'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering reviews/show.html.erb within layouts/application
  Rendered reviews/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 110)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 301)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 3.3ms | Allocations: 2543)


Started GET "/" for ::1 at 2023-02-20 18:16:47 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 726)
Completed 200 OK in 12ms (Views: 2.5ms | ActiveRecord: 4.1ms | Allocations: 3396)


Started GET "/users/sign_out" for ::1 at 2023-02-20 18:16:48 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 1858)


Started GET "/" for ::1 at 2023-02-20 18:16:48 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 400)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 862)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 18:16:49 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1265)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 1453)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 2048)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 18:16:52 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminati' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 288ms (ActiveRecord: 1.5ms | Allocations: 2429)


Started GET "/" for ::1 at 2023-02-20 18:16:53 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1373)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 1838)


Started GET "/reviews" for ::1 at 2023-02-20 18:16:54 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:39
  Rendered reviews/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4094)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 4282)
Completed 200 OK in 17ms (Views: 6.6ms | ActiveRecord: 6.2ms | Allocations: 6421)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 18:16:56 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 1.8ms | Allocations: 1097)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1389)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 1577)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 1.1ms | Allocations: 2796)


Started GET "/" for ::1 at 2023-02-20 18:17:42 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 1367)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 1.4ms | Allocations: 1829)


Started GET "/reviews" for ::1 at 2023-02-20 18:18:01 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mAdmin Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:39
  Rendered reviews/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 4086)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 4274)
Completed 200 OK in 21ms (Views: 10.0ms | ActiveRecord: 7.2ms | Allocations: 6410)


Started GET "/" for ::1 at 2023-02-20 18:18:03 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1367)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.7ms | Allocations: 1829)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 18:18:05 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1858)


Started GET "/" for ::1 at 2023-02-20 18:18:05 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 400)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 862)


Started GET "/users/sign_in" for ::1 at 2023-02-20 18:18:08 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1212)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 1400)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 1994)


Started POST "/users/sign_in" for ::1 at 2023-02-20 18:18:11 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test2", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test2' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 287ms (ActiveRecord: 1.2ms | Allocations: 2440)


Started GET "/" for ::1 at 2023-02-20 18:18:12 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 543)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 732)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.6ms | Allocations: 3406)


Started GET "/reviews" for ::1 at 2023-02-20 18:18:23 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (2.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3902)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 4090)
Completed 200 OK in 22ms (Views: 8.9ms | ActiveRecord: 8.5ms | Allocations: 6226)


Started GET "/reviews/2/edit" for ::1 at 2023-02-20 18:18:50 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 1.8ms | Allocations: 1074)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1237)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 1425)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 2.5ms | Allocations: 3304)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 18:18:53 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_valid_user! rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.0ms | Allocations: 1748)


Started GET "/" for ::1 at 2023-02-20 18:18:53 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 734)
Completed 200 OK in 13ms (Views: 1.6ms | ActiveRecord: 5.4ms | Allocations: 3408)


Started GET "/" for ::1 at 2023-02-20 18:18:54 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 726)
Completed 200 OK in 11ms (Views: 2.4ms | ActiveRecord: 3.5ms | Allocations: 3394)


Started GET "/reviews" for ::1 at 2023-02-20 18:19:08 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.7ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 3902)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 4090)
Completed 200 OK in 23ms (Views: 10.9ms | ActiveRecord: 8.5ms | Allocations: 6221)


Started GET "/reviews/2/edit" for ::1 at 2023-02-20 18:19:10 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 1.7ms | Allocations: 1074)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1237)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1425)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 2.1ms | Allocations: 3302)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 18:19:12 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_valid_user! rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 2.5ms | Allocations: 1739)


Started GET "/" for ::1 at 2023-02-20 18:19:12 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 734)
Completed 200 OK in 14ms (Views: 3.4ms | ActiveRecord: 5.1ms | Allocations: 3406)


Started GET "/users/sign_out" for ::1 at 2023-02-20 18:19:26 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms | Allocations: 1858)


Started GET "/" for ::1 at 2023-02-20 18:19:26 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 400)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 863)


Started GET "/" for ::1 at 2023-02-20 18:19:35 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1619)
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 5937)


Started GET "/" for ::1 at 2023-02-20 18:19:46 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 745)
  Rendered layout layouts/application.html.erb (Duration: 2068.8ms | Allocations: 91457)
Completed 200 OK in 2075ms (Views: 2073.2ms | ActiveRecord: 0.0ms | Allocations: 93616)


Started GET "/users/sign_in" for ::1 at 2023-02-20 18:19:50 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 299)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 4547)
  Rendered layout layouts/application.html.erb (Duration: 2234.5ms | Allocations: 10841)
Completed 200 OK in 2262ms (Views: 2239.4ms | ActiveRecord: 4.8ms | Allocations: 20371)


Started POST "/users/sign_in" for ::1 at 2023-02-20 18:19:56 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test2", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test2' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 292ms (ActiveRecord: 1.6ms | Allocations: 5557)


Started GET "/" for ::1 at 2023-02-20 18:19:56 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 701)
  Rendered layout layouts/application.html.erb (Duration: 1369.8ms | Allocations: 7071)
Completed 200 OK in 1380ms (Views: 1370.4ms | ActiveRecord: 5.3ms | Allocations: 13916)


Started GET "/reviews" for ::1 at 2023-02-20 18:20:01 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.6ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5080)
  Rendered layout layouts/application.html.erb (Duration: 2717.7ms | Allocations: 11509)
Completed 200 OK in 2757ms (Views: 2717.6ms | ActiveRecord: 14.4ms | Allocations: 25382)


Started GET "/reviews/2/edit" for ::1 at 2023-02-20 18:20:06 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 19.8ms | Allocations: 4512)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 22.1ms | Allocations: 4958)
  Rendered layout layouts/application.html.erb (Duration: 946.0ms | Allocations: 11125)
Completed 200 OK in 955ms (Views: 947.2ms | ActiveRecord: 2.4ms | Allocations: 13447)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 18:20:11 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_valid_user! rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.4ms | Allocations: 1962)


Started GET "/" for ::1 at 2023-02-20 18:20:11 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 559)
  Rendered layout layouts/application.html.erb (Duration: 7626.5ms | Allocations: 7084)
Completed 200 OK in 7638ms (Views: 7628.0ms | ActiveRecord: 4.6ms | Allocations: 9950)


Started GET "/users/sign_out" for ::1 at 2023-02-20 18:20:52 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 1.8ms | Allocations: 4703)


Started GET "/" for ::1 at 2023-02-20 18:20:52 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 223)
  Rendered layout layouts/application.html.erb (Duration: 2028.1ms | Allocations: 6679)
Completed 200 OK in 2030ms (Views: 2028.8ms | ActiveRecord: 0.0ms | Allocations: 7256)


Started GET "/users/sign_in" for ::1 at 2023-02-20 18:20:55 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1271)
  Rendered layout layouts/application.html.erb (Duration: 1272.5ms | Allocations: 7728)
Completed 200 OK in 1275ms (Views: 1273.9ms | ActiveRecord: 0.0ms | Allocations: 8347)


Started POST "/users/sign_in" for ::1 at 2023-02-20 18:21:01 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test1' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 284ms (ActiveRecord: 1.4ms | Allocations: 2585)


Started GET "/" for ::1 at 2023-02-20 18:21:01 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 482.2ms | Allocations: 6915)
Completed 200 OK in 486ms (Views: 482.9ms | ActiveRecord: 1.5ms | Allocations: 9610)


Started GET "/reviews" for ::1 at 2023-02-20 18:21:04 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.1ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3924)
  Rendered layout layouts/application.html.erb (Duration: 2004.8ms | Allocations: 10320)
Completed 200 OK in 2013ms (Views: 2001.7ms | ActiveRecord: 6.6ms | Allocations: 12494)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 18:21:08 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 2.2ms | Allocations: 1087)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1250)
  Rendered layout layouts/application.html.erb (Duration: 767.2ms | Allocations: 7660)
Completed 200 OK in 774ms (Views: 768.2ms | ActiveRecord: 2.4ms | Allocations: 9579)


Started GET "/reviews/2/edit" for ::1 at 2023-02-20 18:21:14 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
Redirected to http://localhost:3000/
Filter chain halted as :authenticate_valid_user! rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 2.5ms | Allocations: 1740)


Started GET "/" for ::1 at 2023-02-20 18:21:14 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 4012.2ms | Allocations: 7139)
Completed 200 OK in 4024ms (Views: 4013.3ms | ActiveRecord: 4.9ms | Allocations: 9824)


Started GET "/users/sign_out" for ::1 at 2023-02-20 18:21:20 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.4ms | Allocations: 1873)


Started GET "/" for ::1 at 2023-02-20 18:21:20 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 7667.8ms | Allocations: 6861)
Completed 200 OK in 7670ms (Views: 7669.1ms | ActiveRecord: 0.0ms | Allocations: 7823)


Started GET "/" for ::1 at 2023-02-20 18:22:25 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1619)
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 5936)


Started GET "/" for ::1 at 2023-02-20 18:22:26 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 227)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 436)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms | Allocations: 1027)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 18:22:27 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 298)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 4683)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4902)
Completed 200 OK in 52ms (Views: 14.0ms | ActiveRecord: 5.7ms | Allocations: 19989)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 18:22:31 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminati' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 293ms (ActiveRecord: 1.4ms | Allocations: 5551)


Started GET "/" for ::1 at 2023-02-20 18:22:31 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1421)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1641)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 2210)


Started GET "/books" for ::1 at 2023-02-20 18:22:35 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.4ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 5163)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 5382)
Completed 200 OK in 70ms (Views: 8.0ms | ActiveRecord: 22.3ms | Allocations: 23281)


Started GET "/books/1" for ::1 at 2023-02-20 18:22:38 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 616)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 805)
Completed 200 OK in 11ms (Views: 4.2ms | ActiveRecord: 2.3ms | Allocations: 3092)


Started GET "/books" for ::1 at 2023-02-20 18:22:40 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3894)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4083)
Completed 200 OK in 29ms (Views: 8.3ms | ActiveRecord: 10.1ms | Allocations: 10030)


Started GET "/books/1/edit" for ::1 at 2023-02-20 18:22:41 -0500
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 5.9ms | Allocations: 2542)
  Rendered books/edit.html.erb within layouts/application (Duration: 8.7ms | Allocations: 2989)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3191)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 1.1ms | Allocations: 4382)


Started PATCH "/books/1" for ::1 at 2023-02-20 18:22:46 -0500
Processing by BooksController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Artemis Fowl1", "author"=>"JPJ", "publisher"=>"Pub1", "price"=>"200", "stock"=>"10"}, "commit"=>"Update Book", "id"=>"1"}
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
  [1m[36mBook Update (2.0ms)[0m  [1m[33mUPDATE `books` SET `books`.`stock` = 10, `books`.`updated_at` = '2023-02-20 23:22:46.862311' WHERE `books`.`id` = 1[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
Redirected to http://localhost:3000/books/1
Completed 302 Found in 18ms (ActiveRecord: 7.4ms | Allocations: 4536)


Started GET "/books/1" for ::1 at 2023-02-20 18:22:46 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mAdmin Load (2.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 165)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 359)
Completed 200 OK in 12ms (Views: 3.0ms | ActiveRecord: 3.6ms | Allocations: 2316)


Started GET "/books" for ::1 at 2023-02-20 18:22:49 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 22.8ms | Allocations: 3906)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 4094)
Completed 200 OK in 51ms (Views: 22.1ms | ActiveRecord: 14.6ms | Allocations: 10025)


Started GET "/books/new" for ::1 at 2023-02-20 18:22:51 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 2.6ms | Allocations: 1569)
  Rendered books/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1833)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2021)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 2592)


Started POST "/books" for ::1 at 2023-02-20 18:23:12 -0500
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Mocha", "author"=>"Hohoho", "publisher"=>"Santa", "price"=>"100", "stock"=>"10"}, "commit"=>"Create Book"}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
  [1m[36mBook Create (1.3ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `price`, `stock`, `created_at`, `updated_at`) VALUES ('Mocha', 'Hohoho', 'Santa', 100, 10, '2023-02-20 23:23:12.640083', '2023-02-20 23:23:12.640083')[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
Redirected to http://localhost:3000/books/7
Completed 302 Found in 10ms (ActiveRecord: 4.3ms | Allocations: 2946)


Started GET "/books/7" for ::1 at 2023-02-20 18:23:12 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 150)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 341)
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 2.4ms | Allocations: 2211)


Started GET "/books" for ::1 at 2023-02-20 18:23:13 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 4286)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4474)
Completed 200 OK in 26ms (Views: 7.0ms | ActiveRecord: 10.2ms | Allocations: 11093)


Started DELETE "/books/6" for ::1 at 2023-02-20 18:23:33 -0500
Processing by BooksController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"6"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 6 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:96:in `destroy'
  [1m[36mReview Destroy (1.0ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`book_id` = 6[0m
  ↳ app/controllers/books_controller.rb:96:in `destroy'
  [1m[36mCartDetail Destroy (1.1ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`book_id` = 6[0m
  ↳ app/controllers/books_controller.rb:96:in `destroy'
  [1m[36mBook Destroy (1.2ms)[0m  [1m[31mDELETE FROM `books` WHERE `books`.`id` = 6[0m
  ↳ app/controllers/books_controller.rb:96:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:96:in `destroy'
Redirected to http://localhost:3000/books
Completed 302 Found in 45ms (ActiveRecord: 11.1ms | Allocations: 12219)


Started GET "/books" for ::1 at 2023-02-20 18:23:34 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4001)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 4195)
Completed 200 OK in 21ms (Views: 5.0ms | ActiveRecord: 9.5ms | Allocations: 10232)


  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` ORDER BY `books`.`id` DESC LIMIT 1[0m
Started GET "/admins/sign_in" for ::1 at 2023-02-20 18:28:13 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 3.2ms | Allocations: 16905)


Started GET "/" for ::1 at 2023-02-20 18:28:14 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2173)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 2733)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.8ms | Allocations: 6201)


Started GET "/" for ::1 at 2023-02-20 18:28:15 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1378)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 1587)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 2.5ms | Allocations: 2182)


Started GET "/books" for ::1 at 2023-02-20 18:28:27 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 5259)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 5479)
Completed 200 OK in 67ms (Views: 8.3ms | ActiveRecord: 21.2ms | Allocations: 23435)


Started GET "/books/new" for ::1 at 2023-02-20 18:28:28 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.6ms | Allocations: 2952)
  Rendered books/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3358)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3559)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 4227)


Started POST "/books" for ::1 at 2023-02-20 18:28:43 -0500
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"hshadhsa", "stock"=>"123"}, "commit"=>"Create Book"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 7050)


  
NameError (undefined local variable or method `book' for #<Book id: nil, name: "Fireflies", author: "Owl City", publisher: "Song", price: 0, stock: 123, created_at: nil, updated_at: nil>):
  
app/models/book.rb:12:in `price_numeric_check'
app/controllers/books_controller.rb:71:in `block in create'
app/controllers/books_controller.rb:70:in `create'
Started GET "/books/new" for ::1 at 2023-02-20 18:28:54 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 1.0ms | Allocations: 1834)
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1983)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2203)
Completed 200 OK in 11ms (Views: 1.7ms | ActiveRecord: 5.2ms | Allocations: 9289)


Started GET "/books/new" for ::1 at 2023-02-20 18:28:55 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 2.4ms | Allocations: 1526)
  Rendered books/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1653)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 1841)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 2315)


Started POST "/books" for ::1 at 2023-02-20 18:29:06 -0500
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"iasdjasd", "stock"=>"100"}, "commit"=>"Create Book"}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms | Allocations: 6387)


  
NoMethodError (undefined method `phone_number' for #<Book id: nil, name: "Fireflies", author: "Owl City", publisher: "Song", price: 0, stock: 100, created_at: nil, updated_at: nil>):
  
app/models/book.rb:13:in `price_numeric_check'
app/controllers/books_controller.rb:71:in `block in create'
app/controllers/books_controller.rb:70:in `create'
Started GET "/books/new" for ::1 at 2023-02-20 18:29:25 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 1.0ms | Allocations: 1834)
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1983)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 2202)
Completed 200 OK in 11ms (Views: 1.7ms | ActiveRecord: 5.2ms | Allocations: 9273)


Started POST "/books" for ::1 at 2023-02-20 18:29:26 -0500
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"iasdjasd", "stock"=>"100"}, "commit"=>"Create Book"}
Completed 500 Internal Server Error in 10841ms (ActiveRecord: 0.0ms | Allocations: 53372)


  
NoMethodError (undefined method `scan' for 0:Integer

        string.scan(/^\d+$/).present?
              ^^^^^):
  
app/models/book.rb:9:in `numeric_string_check'
app/models/book.rb:14:in `price_numeric_check'
app/controllers/books_controller.rb:71:in `block in create'
app/controllers/books_controller.rb:70:in `create'
Started GET "/books/new" for ::1 at 2023-02-20 18:30:07 -0500
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 1.2ms | Allocations: 1834)
  Rendered books/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1983)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2202)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 4.7ms | Allocations: 9257)


Started POST "/books" for ::1 at 2023-02-20 18:30:11 -0500
Processing by BooksController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"", "stock"=>"100"}, "commit"=>"Create Book"}
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
  [1m[36mBook Create (3.2ms)[0m  [1m[32mINSERT INTO `books` (`name`, `author`, `publisher`, `stock`, `created_at`, `updated_at`) VALUES ('Fireflies', 'Owl City', 'Song', 100, '2023-02-20 23:31:32.888526', '2023-02-20 23:31:32.888526')[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:71:in `block in create'
Redirected to http://localhost:3000/books/8
Completed 302 Found in 81664ms (ActiveRecord: 7.4ms | Allocations: 17828)


Started GET "/books/8" for ::1 at 2023-02-20 18:31:32 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 675)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 867)
Completed 200 OK in 27ms (Views: 2.1ms | ActiveRecord: 7.5ms | Allocations: 15259)


Started GET "/books" for ::1 at 2023-02-20 18:31:38 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.5ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 16874)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 17093)
Completed 200 OK in 36ms (Views: 9.7ms | ActiveRecord: 16.2ms | Allocations: 35359)


Started GET "/" for ::1 at 2023-02-20 18:31:41 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1449)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 1693)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.6ms | Allocations: 2631)


Started GET "/books" for ::1 at 2023-02-20 18:31:42 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:44
  Rendered books/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4334)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4522)
Completed 200 OK in 33ms (Views: 8.9ms | ActiveRecord: 12.5ms | Allocations: 11210)


Started GET "/books/8/edit" for ::1 at 2023-02-20 18:31:44 -0500
Processing by BooksController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 3.4ms | Allocations: 1749)
  Rendered books/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2069)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2257)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 1.5ms | Allocations: 3601)


Started PATCH "/books/8" for ::1 at 2023-02-20 18:31:46 -0500
Processing by BooksController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"", "stock"=>"100"}, "commit"=>"Update Book", "id"=>"8"}
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 3.4ms | Allocations: 1828)
  Rendered books/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1991)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 2181)
Completed 422 Unprocessable Entity in 2329ms (Views: 5.6ms | ActiveRecord: 1.3ms | Allocations: 11234)


Started PATCH "/books/8" for ::1 at 2023-02-20 18:31:53 -0500
Processing by BooksController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"asdasd", "stock"=>"100"}, "commit"=>"Update Book", "id"=>"8"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 20.1ms | Allocations: 1786)
  Rendered books/edit.html.erb within layouts/application (Duration: 24.8ms | Allocations: 1949)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 2219)
Completed 422 Unprocessable Entity in 1389ms (Views: 26.2ms | ActiveRecord: 1.1ms | Allocations: 10966)


Started PATCH "/books/8" for ::1 at 2023-02-20 18:31:59 -0500
Processing by BooksController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Fireflies", "author"=>"Owl City", "publisher"=>"Song", "price"=>"100", "stock"=>"100"}, "commit"=>"Update Book", "id"=>"8"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
  [1m[36mBook Update (1.5ms)[0m  [1m[33mUPDATE `books` SET `books`.`price` = 100, `books`.`updated_at` = '2023-02-20 23:32:01.482816' WHERE `books`.`id` = 8[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/books_controller.rb:84:in `block in update'
Redirected to http://localhost:3000/books/8
Completed 302 Found in 1643ms (ActiveRecord: 5.9ms | Allocations: 10619)


Started GET "/books/8" for ::1 at 2023-02-20 18:32:01 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:43:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 151)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 343)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 2.4ms | Allocations: 2215)


Started GET "/" for ::1 at 2023-02-20 18:34:02 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 15858)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 16449)
Completed 200 OK in 22ms (Views: 11.6ms | ActiveRecord: 4.7ms | Allocations: 20763)


Started GET "/" for ::1 at 2023-02-20 18:34:02 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1355)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 1563)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 1.1ms | Allocations: 2150)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 18:34:05 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 1.7ms | Allocations: 4505)


Started GET "/" for ::1 at 2023-02-20 18:34:05 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 240)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 458)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1013)


Started GET "/users/sign_in" for ::1 at 2023-02-20 18:34:06 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 295)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3568)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 3788)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.0ms | Allocations: 5643)


Started POST "/users/sign_in" for ::1 at 2023-02-20 18:34:11 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test1' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 292ms (ActiveRecord: 1.3ms | Allocations: 4996)


Started GET "/" for ::1 at 2023-02-20 18:34:11 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 673)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 877)
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 5.6ms | Allocations: 7694)


Started GET "/purchases" for ::1 at 2023-02-20 18:34:13 -0500
Processing by PurchasesController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering purchases/index.html.erb within layouts/application
  [1m[36mPurchase Load (1.7ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`user_id` = 3[0m
  ↳ app/views/purchases/index.html.erb:17
  Rendered purchases/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1314)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 1538)
Completed 200 OK in 15ms (Views: 7.1ms | ActiveRecord: 3.4ms | Allocations: 3945)


Started GET "/" for ::1 at 2023-02-20 18:34:16 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 574)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 763)
Completed 200 OK in 11ms (Views: 2.7ms | ActiveRecord: 3.7ms | Allocations: 3571)


Started GET "/books" for ::1 at 2023-02-20 18:34:17 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3445)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 3688)
Completed 200 OK in 50ms (Views: 3.6ms | ActiveRecord: 17.0ms | Allocations: 21958)


Started GET "/books/1" for ::1 at 2023-02-20 18:34:19 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 1 AND `cart_details`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1839)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2063)
Completed 200 OK in 32ms (Views: 4.9ms | ActiveRecord: 8.7ms | Allocations: 9080)


Started GET "/cart/add_to_cart?book_id=1&quantity=4&commit=Update+cart" for ::1 at 2023-02-20 18:34:22 -0500
Processing by CartsController#add_to_cart as HTML
  Parameters: {"book_id"=>"1", "quantity"=>"4", "commit"=>"Update cart"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCartDetail Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 1 AND `cart_details`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:7:in `add_to_cart'
  [1m[36mCartDetail Load (0.9ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1 AND `cart_details`.`book_id` = 1[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
  [1m[36mCartDetail Update (1.4ms)[0m  [1m[33mUPDATE `cart_details` SET `cart_details`.`quantity` = 4, `cart_details`.`updated_at` = '2023-02-20 23:34:22.286076' WHERE `cart_details`.`id` = 1[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:13:in `add_to_cart'
Redirected to http://localhost:3000/books
Completed 302 Found in 36ms (ActiveRecord: 14.0ms | Allocations: 14305)


Started GET "/books" for ::1 at 2023-02-20 18:34:22 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.7ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2402)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2604)
Completed 200 OK in 17ms (Views: 3.4ms | ActiveRecord: 7.8ms | Allocations: 9326)


Started GET "/cart_details" for ::1 at 2023-02-20 18:34:24 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1998)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2217)
Completed 200 OK in 24ms (Views: 9.5ms | ActiveRecord: 6.3ms | Allocations: 6032)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:34:27 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:15:in `new'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:15:in `new'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:20:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 5.7ms | Allocations: 2489)
  Rendered purchases/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2873)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3074)
Completed 200 OK in 41ms (Views: 9.4ms | ActiveRecord: 8.2ms | Allocations: 11850)


Started GET "/cart_details" for ::1 at 2023-02-20 18:34:33 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.8ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1307)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 1496)
Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 5.1ms | Allocations: 4410)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:36:31 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `new'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `new'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:19:in `map'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:19:in `map'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:22:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 1.9ms | Allocations: 1794)
  Rendered purchases/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1944)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2163)
Completed 200 OK in 1888ms (Views: 3.1ms | ActiveRecord: 28.8ms | Allocations: 81626)


Started GET "/cart_details" for ::1 at 2023-02-20 18:37:21 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (0.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 7988)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 8212)
Completed 200 OK in 29ms (Views: 4.6ms | ActiveRecord: 14.3ms | Allocations: 26009)


Started GET "/cart_details" for ::1 at 2023-02-20 18:37:26 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1263)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 1452)
Completed 200 OK in 14ms (Views: 3.9ms | ActiveRecord: 5.1ms | Allocations: 4250)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:37:28 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `new'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `new'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:19:in `map'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:19:in `map'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:28:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.3ms | Allocations: 1796)
  Rendered purchases/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1946)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 2165)
Completed 200 OK in 1413ms (Views: 3.7ms | ActiveRecord: 11.2ms | Allocations: 19550)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:37:45 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (0.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:29:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.1ms | Allocations: 1793)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1943)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 2162)
Completed 200 OK in 38287ms (Views: 4.9ms | ActiveRecord: 27.1ms | Allocations: 41228)


Started GET "/cart_details" for ::1 at 2023-02-20 18:38:25 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1563)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 1782)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 5.0ms | Allocations: 5106)


Started GET "/" for ::1 at 2023-02-20 18:38:27 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 734)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 953)
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 3.7ms | Allocations: 4429)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:38:28 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 2.2ms | Allocations: 3000)
  Rendered users/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3420)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3639)
Completed 200 OK in 26ms (Views: 4.0ms | ActiveRecord: 1.4ms | Allocations: 6801)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:38:43 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"9999999999999999", "phone_number"=>"9999999911"}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE `users` SET `users`.`updated_at` = '2023-02-20 23:38:43.297569', `users`.`credit_card` = '9999999999999999', `users`.`phone_number` = '9999999911', `users`.`address` = '1521 GraduateLn' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 26ms (ActiveRecord: 10.7ms | Allocations: 7719)


Started GET "/users/3" for ::1 at 2023-02-20 18:38:43 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 304)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 496)
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 2.0ms | Allocations: 2517)


Started GET "/" for ::1 at 2023-02-20 18:38:44 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 554)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 742)
Completed 200 OK in 12ms (Views: 2.6ms | ActiveRecord: 4.1ms | Allocations: 3431)


Started GET "/cart_details" for ::1 at 2023-02-20 18:38:46 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.1ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1286)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 1474)
Completed 200 OK in 14ms (Views: 3.9ms | ActiveRecord: 5.7ms | Allocations: 4176)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:38:47 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:29:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.6ms | Allocations: 1516)
  Rendered purchases/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 1831)
Completed 200 OK in 1947ms (Views: 4.0ms | ActiveRecord: 7.6ms | Allocations: 13443)


Started GET "/cart_details" for ::1 at 2023-02-20 18:45:19 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (0.5ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 7283)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 7507)
Completed 200 OK in 21ms (Views: 4.8ms | ActiveRecord: 3.2ms | Allocations: 24650)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:45:20 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.8ms | Allocations: 1808)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1958)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 2177)
Completed 200 OK in 12227ms (Views: 5.0ms | ActiveRecord: 6.9ms | Allocations: 27959)


Started GET "/cart_details" for ::1 at 2023-02-20 18:45:35 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (2.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (2.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1305)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 1493)
Completed 200 OK in 21ms (Views: 5.4ms | ActiveRecord: 7.2ms | Allocations: 4397)


Started GET "/" for ::1 at 2023-02-20 18:45:36 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 735)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 954)
Completed 200 OK in 11ms (Views: 2.8ms | ActiveRecord: 3.8ms | Allocations: 4434)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:45:37 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 6.3ms | Allocations: 2410)
  Rendered users/edit.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2557)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2776)
Completed 200 OK in 19ms (Views: 9.9ms | ActiveRecord: 2.6ms | Allocations: 5446)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:45:41 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 24ms (ActiveRecord: 9.4ms | Allocations: 6657)


Started GET "/users/3" for ::1 at 2023-02-20 18:45:41 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 280)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 1.8ms | Allocations: 2183)


Started GET "/" for ::1 at 2023-02-20 18:45:42 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 554)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 742)
Completed 200 OK in 13ms (Views: 3.0ms | ActiveRecord: 4.1ms | Allocations: 3431)


Started GET "/cart_details" for ::1 at 2023-02-20 18:45:44 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1286)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 1474)
Completed 200 OK in 15ms (Views: 4.2ms | ActiveRecord: 5.3ms | Allocations: 4176)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:45:45 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.4ms | Allocations: 1516)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1643)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 1831)
Completed 200 OK in 10730ms (Views: 4.8ms | ActiveRecord: 6.3ms | Allocations: 21712)


Started GET "/cart_details" for ::1 at 2023-02-20 18:46:00 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (3.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1262)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 1450)
Completed 200 OK in 20ms (Views: 6.3ms | ActiveRecord: 7.0ms | Allocations: 4140)


Started GET "/" for ::1 at 2023-02-20 18:46:02 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 726)
Completed 200 OK in 14ms (Views: 4.0ms | ActiveRecord: 4.5ms | Allocations: 3400)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:46:02 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 5.8ms | Allocations: 2108)
  Rendered users/edit.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2232)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2420)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 2.2ms | Allocations: 4306)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:46:08 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 24ms (ActiveRecord: 10.1ms | Allocations: 5821)


Started GET "/users/3" for ::1 at 2023-02-20 18:46:08 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 276)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 1.8ms | Allocations: 2165)


Started GET "/" for ::1 at 2023-02-20 18:47:11 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 737)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 956)
Completed 200 OK in 20ms (Views: 1.0ms | ActiveRecord: 11.0ms | Allocations: 14900)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:47:13 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.0ms | Allocations: 2416)
  Rendered users/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2563)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 2782)
Completed 200 OK in 2626ms (Views: 7.2ms | ActiveRecord: 4.1ms | Allocations: 12937)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:47:22 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.2ms | Allocations: 2423)
  Rendered users/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2570)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2789)
Completed 200 OK in 1178ms (Views: 7.1ms | ActiveRecord: 5.4ms | Allocations: 20165)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:47:28 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 36895ms (ActiveRecord: 5.0ms | Allocations: 19194)


Started GET "/users/3" for ::1 at 2023-02-20 18:48:05 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 92)
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | Allocations: 284)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2186)


Started GET "/users/3" for ::1 at 2023-02-20 18:48:09 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | Allocations: 415)
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 6.9ms | Allocations: 10347)


Started GET "/" for ::1 at 2023-02-20 18:48:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 733)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 952)
Completed 200 OK in 33ms (Views: 10.8ms | ActiveRecord: 11.3ms | Allocations: 7631)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:48:17 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.4ms | Allocations: 2305)
  Rendered users/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2436)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 2624)
Completed 200 OK in 1707ms (Views: 4.8ms | ActiveRecord: 2.7ms | Allocations: 12199)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:48:24 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.4ms | Allocations: 3169)
  Rendered users/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3293)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3481)
Completed 422 Unprocessable Entity in 2529ms (Views: 5.7ms | ActiveRecord: 8.5ms | Allocations: 17919)


Started GET "/users/3" for ::1 at 2023-02-20 18:49:25 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | Allocations: 415)
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 6.8ms | Allocations: 10349)


Started GET "/" for ::1 at 2023-02-20 18:49:27 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 733)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 952)
Completed 200 OK in 35ms (Views: 5.2ms | ActiveRecord: 14.7ms | Allocations: 7629)


Started GET "/users/3/edit" for ::1 at 2023-02-20 18:49:30 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.0ms | Allocations: 2305)
  Rendered users/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2436)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2632)
Completed 200 OK in 3196ms (Views: 6.7ms | ActiveRecord: 2.4ms | Allocations: 12202)


Started PATCH "/users/3" for ::1 at 2023-02-20 18:49:39 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE `users` SET `users`.`updated_at` = '2023-02-20 23:50:27.501124', `users`.`credit_card` = '', `users`.`phone_number` = '' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:51:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 48360ms (ActiveRecord: 11.6ms | Allocations: 49678)


Started GET "/users/3" for ::1 at 2023-02-20 18:50:27 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 277)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 2.3ms | Allocations: 2167)


Started GET "/" for ::1 at 2023-02-20 18:50:47 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 726)
Completed 200 OK in 13ms (Views: 2.4ms | ActiveRecord: 4.5ms | Allocations: 3414)


Started GET "/cart_details" for ::1 at 2023-02-20 18:50:51 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 7967)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 8191)
Completed 200 OK in 48ms (Views: 12.5ms | ActiveRecord: 14.8ms | Allocations: 17205)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:50:53 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.8ms | Allocations: 1799)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1949)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 2168)
Completed 200 OK in 9276ms (Views: 4.8ms | ActiveRecord: 10.2ms | Allocations: 27510)


Started GET "/" for ::1 at 2023-02-20 18:55:03 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1593)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2108)
Completed 200 OK in 27ms (Views: 3.8ms | ActiveRecord: 10.3ms | Allocations: 20598)


Started GET "/cart_details" for ::1 at 2023-02-20 18:55:06 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.8ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.6ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 26.6ms | Allocations: 9574)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 9799)
Completed 200 OK in 64ms (Views: 21.1ms | ActiveRecord: 20.4ms | Allocations: 19423)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:55:07 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (0.8ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 9.6ms | Allocations: 4163)
  Rendered purchases/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4619)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4841)
Completed 200 OK in 3991ms (Views: 13.5ms | ActiveRecord: 7.7ms | Allocations: 73705)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:55:35 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.1ms | Allocations: 2600)
  Rendered purchases/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4465)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6258)
Completed 200 OK in 2550ms (Views: 10.5ms | ActiveRecord: 7.7ms | Allocations: 32550)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:56:14 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.8ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.7ms | Allocations: 2884)
  Rendered purchases/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4309)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 5898)
Completed 200 OK in 2074ms (Views: 11.3ms | ActiveRecord: 9.5ms | Allocations: 32143)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:56:41 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.6ms | Allocations: 1542)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1914)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2909)
Completed 200 OK in 48810ms (Views: 6.5ms | ActiveRecord: 8.3ms | Allocations: 127980)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:57:31 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.2ms | Allocations: 2246)
  Rendered purchases/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2652)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3108)
Completed 200 OK in 1684ms (Views: 8.9ms | ActiveRecord: 7.7ms | Allocations: 25513)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:57:44 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.1ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 2.3ms | Allocations: 2247)
  Rendered purchases/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2647)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3103)
Completed 200 OK in 1554ms (Views: 6.3ms | ActiveRecord: 6.9ms | Allocations: 24850)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:57:56 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.2ms | Allocations: 2247)
  Rendered purchases/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2653)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3109)
Completed 200 OK in 1568ms (Views: 7.3ms | ActiveRecord: 8.3ms | Allocations: 24926)


Started GET "/purchases/new?cart_id=1" for ::1 at 2023-02-20 18:58:10 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:16:in `new'
  [1m[36mCartDetail Load (1.1ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:18:in `map'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:36:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 3.8ms | Allocations: 2884)
  Rendered purchases/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 5039)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 6907)
Completed 200 OK in 1470ms (Views: 11.4ms | ActiveRecord: 7.7ms | Allocations: 31939)


Started GET "/" for ::1 at 2023-02-20 19:02:32 -0500
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1593)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2108)
Completed 200 OK in 27ms (Views: 3.6ms | ActiveRecord: 10.0ms | Allocations: 20598)


Started GET "/users/sign_out" for ::1 at 2023-02-20 19:02:34 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 1.7ms | Allocations: 4507)


Started GET "/" for ::1 at 2023-02-20 19:02:34 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 450)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 1010)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:02:35 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 295)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3695)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3914)
Completed 200 OK in 29ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 11362)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:02:38 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminati", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminati' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 291ms (ActiveRecord: 1.3ms | Allocations: 4959)


Started GET "/" for ::1 at 2023-02-20 19:02:39 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1373)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1587)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.9ms | Allocations: 2156)


Started GET "/users" for ::1 at 2023-02-20 19:02:43 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3668)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 3887)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 3.6ms | Allocations: 5271)


Started GET "/users/3/edit" for ::1 at 2023-02-20 19:02:55 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.6ms | Allocations: 2929)
  Rendered users/edit.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3296)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3485)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 1.2ms | Allocations: 5010)


Started PATCH "/users/3" for ::1 at 2023-02-20 19:03:05 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"9999999999999999", "phone_number"=>"9999999911"}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE `users` SET `users`.`updated_at` = '2023-02-21 00:03:05.787499', `users`.`credit_card` = '9999999999999999', `users`.`phone_number` = '9999999911' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 24ms (ActiveRecord: 10.2ms | Allocations: 6794)


Started GET "/users/3" for ::1 at 2023-02-20 19:03:05 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 307)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 500)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 1.2ms | Allocations: 1731)


Started GET "/" for ::1 at 2023-02-20 19:03:07 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 1367)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 2.1ms | Allocations: 1830)


Started GET "/users" for ::1 at 2023-02-20 19:03:08 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3213)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 3.0ms | Allocations: 3626)


Started GET "/users/4/edit" for ::1 at 2023-02-20 19:03:10 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.2ms | Allocations: 2081)
  Rendered users/edit.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2205)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2394)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 1.2ms | Allocations: 3503)


Started GET "/" for ::1 at 2023-02-20 19:03:11 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1367)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.4ms | Allocations: 1829)


Started GET "/users" for ::1 at 2023-02-20 19:03:13 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3213)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 2.5ms | Allocations: 3627)


Started GET "/users/3/edit" for ::1 at 2023-02-20 19:03:14 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.2ms | Allocations: 2108)
  Rendered users/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2232)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 2420)
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 1.2ms | Allocations: 3519)


Started PATCH "/users/3" for ::1 at 2023-02-20 19:03:17 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Update (3.6ms)[0m  [1m[33mUPDATE `users` SET `users`.`updated_at` = '2023-02-21 00:03:17.689495', `users`.`credit_card` = '', `users`.`phone_number` = '' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 23ms (ActiveRecord: 11.2ms | Allocations: 5919)


Started GET "/users/3" for ::1 at 2023-02-20 19:03:17 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 85)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 276)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 1.1ms | Allocations: 1378)


Started GET "/" for ::1 at 2023-02-20 19:03:19 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1367)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.5ms | Allocations: 1829)


Started GET "/users" for ::1 at 2023-02-20 19:03:20 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3213)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 2.3ms | Allocations: 3625)


Started GET "/" for ::1 at 2023-02-20 19:03:26 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 1367)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 2.3ms | Allocations: 1829)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:03:27 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:28:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 2.9ms | Allocations: 1557)
  Rendered admin/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1972)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2191)
Completed 200 OK in 13ms (Views: 7.0ms | ActiveRecord: 1.4ms | Allocations: 4448)


  [1m[36mAdmin Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` ORDER BY `users`.`id` DESC LIMIT 1[0m
Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:05:21 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:28:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 3.8ms | Allocations: 2026)
  Rendered admin/edit.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2424)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2880)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 1.1ms | Allocations: 4984)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:06:19 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatix", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:28:in `set_admin'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  [1m[36mUser Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatix' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatix' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/admin_controller.rb:15:in `block in update'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 5.2ms | Allocations: 2845)
  Rendered admin/edit.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2969)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3157)
Completed 422 Unprocessable Entity in 32ms (Views: 6.6ms | ActiveRecord: 8.3ms | Allocations: 11340)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:10:57 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mAdmin Update (0.8ms)[0m  [1m[33mUPDATE `users` SET `users`.`updated_at` = '2023-02-21 00:10:57.331205', `users`.`username` = 'illuminatiy' WHERE `users`.`id` = 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 25ms (ActiveRecord: 10.5ms | Allocations: 21702)


Started GET "/admin/1" for ::1 at 2023-02-20 19:10:57 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 329)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 569)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.8ms | Allocations: 2081)


Started GET "/" for ::1 at 2023-02-20 19:10:59 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1969)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2213)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 2.1ms | Allocations: 3666)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 19:11:01 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 2503)


Started GET "/" for ::1 at 2023-02-20 19:11:01 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 239)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 451)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 962)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:11:02 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 257)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2261)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2480)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 4210)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:11:06 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatiy' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 291ms (ActiveRecord: 1.5ms | Allocations: 3699)


Started GET "/" for ::1 at 2023-02-20 19:11:07 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1193)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1391)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1859)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:11:14 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 2.5ms | Allocations: 1528)
  Rendered admin/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1655)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 1843)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.3ms | Allocations: 2875)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:11:20 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mAdmin Update (0.8ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$HZOf3BWuDUWWstE.9DKEj.k1m8WfdrndtxhjCtGO8yl5onEilJLoq', `users`.`updated_at` = '2023-02-21 00:11:20.330362' WHERE `users`.`id` = 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 291ms (ActiveRecord: 6.1ms | Allocations: 7612)


Started GET "/admin/1" for ::1 at 2023-02-20 19:11:20 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 81)
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | Allocations: 272)
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1296)


Started GET "/" for ::1 at 2023-02-20 19:11:24 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1113)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 1302)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 1.8ms | Allocations: 1764)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:11:26 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1260)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 1448)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 2044)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:11:33 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatiy' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 287ms (ActiveRecord: 1.3ms | Allocations: 2411)


Started GET "/" for ::1 at 2023-02-20 19:11:33 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 1373)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.6ms | Allocations: 1838)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:11:36 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 10.0ms | Allocations: 1467)
  Rendered admin/edit.html.erb within layouts/application (Duration: 10.4ms | Allocations: 1591)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 1779)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.2ms | Allocations: 2800)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:11:42 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatiy' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mAdmin Update (0.9ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$mRF/jzLIcRq0EE1MdCLhxOTGAr.HySq40AKg8qNVirIe5jEzveUn.', `users`.`updated_at` = '2023-02-21 00:11:42.711112' WHERE `users`.`id` = 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 296ms (ActiveRecord: 6.3ms | Allocations: 7472)


Started GET "/admin/1" for ::1 at 2023-02-20 19:11:42 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 81)
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | Allocations: 272)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 1298)


Started GET "/" for ::1 at 2023-02-20 19:11:46 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1112)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1301)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 1.4ms | Allocations: 1763)


Started GET "/" for ::1 at 2023-02-20 19:13:39 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1619)
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 5937)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:13:40 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 298)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4683)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 4903)
Completed 200 OK in 37ms (Views: 6.7ms | ActiveRecord: 5.6ms | Allocations: 20011)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:13:48 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatiy", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatiy' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 292ms (ActiveRecord: 2.1ms | Allocations: 5565)


Started GET "/" for ::1 at 2023-02-20 19:13:48 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1421)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1642)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 2212)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:13:51 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 3.9ms | Allocations: 2208)
  Rendered admin/edit.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2627)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 2846)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 1.2ms | Allocations: 5161)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:13:58 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatit", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatit' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatit' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mAdmin Update (0.9ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$eB2YwGDVxD5Ae84wo14mKu8N9LdNXOpp0y.gcQl4ufyz5gdO4fkmm', `users`.`updated_at` = '2023-02-21 00:13:58.999021', `users`.`username` = 'illuminatit' WHERE `users`.`id` = 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 269ms (ActiveRecord: 5.2ms | Allocations: 9318)


Started GET "/admin/1" for ::1 at 2023-02-20 19:13:59 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:29:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 235)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 427)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1590)


Started GET "/" for ::1 at 2023-02-20 19:14:02 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1130)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 1319)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.4ms | Allocations: 1801)


Started GET "/" for ::1 at 2023-02-20 19:20:32 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1048)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1619)
Completed 200 OK in 23ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 5937)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:20:35 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 298)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4683)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4903)
Completed 200 OK in 48ms (Views: 15.0ms | ActiveRecord: 5.3ms | Allocations: 20011)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:20:41 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatit", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatit' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 282ms (ActiveRecord: 1.8ms | Allocations: 5559)


Started GET "/" for ::1 at 2023-02-20 19:20:41 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1421)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1642)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 2212)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:20:43 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 3.4ms | Allocations: 2208)
  Rendered admin/edit.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2627)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 2847)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 1.2ms | Allocations: 5181)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:20:50 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatitx", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatitx' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatitx' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mAdmin Update (1.1ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$khe6EOz2PzTkee9/NDjNw.3NJ7z55IHdP53Ub5vVh0ZUVnvUJ8tN.', `users`.`updated_at` = '2023-02-21 00:20:51.207681', `users`.`username` = 'illuminatitx' WHERE `users`.`id` = 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
DEPRECATION WARNING: [Devise] bypass option is deprecated and it will be removed in future version of Devise.
Please use bypass_sign_in method instead.
Example:

  bypass_sign_in(user)
 (called from block in update at /Users/scrowney/Desktop/OODD/Proj2/phase3/Nozama---Book-Shopping-System/BookShop/app/controllers/admin_controller.rb:17)
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 296ms (ActiveRecord: 7.4ms | Allocations: 9546)


Started GET "/admin/1" for ::1 at 2023-02-20 19:20:51 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 235)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 427)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 1589)


Started GET "/" for ::1 at 2023-02-20 19:20:52 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1196)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 1385)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.5ms | Allocations: 1864)


Started GET "/admin/1/edit" for ::1 at 2023-02-20 19:20:58 -0500
Processing by AdminController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/edit.html.erb within layouts/application
  Rendered admin/_form.html.erb (Duration: 2.8ms | Allocations: 1467)
  Rendered admin/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1591)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 1780)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 1.3ms | Allocations: 2818)


Started PATCH "/admin/1" for ::1 at 2023-02-20 19:21:05 -0500
Processing by AdminController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatitx", "email"=>"illuminati@gmail.com", "name"=>"illuminati", "password"=>"[FILTERED]"}, "commit"=>"Update Admin", "id"=>"1"}
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatitx' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'illuminati@gmail.com' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mCACHE Admin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'illuminatitx' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/admin_controller.rb:16:in `block in update'
DEPRECATION WARNING: [Devise] bypass option is deprecated and it will be removed in future version of Devise.
Please use bypass_sign_in method instead.
Example:

  bypass_sign_in(user)
 (called from block in update at /Users/scrowney/Desktop/OODD/Proj2/phase3/Nozama---Book-Shopping-System/BookShop/app/controllers/admin_controller.rb:17)
Redirected to http://localhost:3000/admin/1
Completed 302 Found in 20ms (ActiveRecord: 6.8ms | Allocations: 6662)


Started GET "/admin/1" for ::1 at 2023-02-20 19:21:05 -0500
Processing by AdminController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/admin_controller.rb:30:in `set_admin'
  Rendering layout layouts/application.html.erb
  Rendering admin/show.html.erb within layouts/application
  Rendered admin/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 81)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 272)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 1.2ms | Allocations: 1296)


Started GET "/" for ::1 at 2023-02-20 19:21:08 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1178)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 1367)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.6ms | Allocations: 1829)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 19:21:10 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 1.2ms | Allocations: 4425)


Started GET "/" for ::1 at 2023-02-20 19:21:10 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 223)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 434)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 986)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:21:11 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 1317)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 1505)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 2121)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:21:17 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatitx", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatitx' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 289ms (ActiveRecord: 1.4ms | Allocations: 2584)


Started GET "/" for ::1 at 2023-02-20 19:21:17 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1191)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 1386)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1852)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 19:21:19 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 1865)


Started GET "/" for ::1 at 2023-02-20 19:21:19 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 400)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 862)


Started GET "/users/sign_in" for ::1 at 2023-02-20 19:22:09 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 321)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4842)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5342)
Completed 200 OK in 29ms (Views: 8.1ms | ActiveRecord: 12.1ms | Allocations: 17043)


Started POST "/users/sign_in" for ::1 at 2023-02-20 19:22:19 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test1' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 296ms (ActiveRecord: 3.8ms | Allocations: 5596)


Started GET "/" for ::1 at 2023-02-20 19:22:20 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1237)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1461)
Completed 200 OK in 13ms (Views: 1.8ms | ActiveRecord: 6.9ms | Allocations: 9188)


Started GET "/users/3/edit" for ::1 at 2023-02-20 19:22:22 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 4.3ms | Allocations: 3024)
  Rendered users/edit.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3446)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3665)
Completed 200 OK in 20ms (Views: 9.2ms | ActiveRecord: 4.5ms | Allocations: 6888)


Started PATCH "/users/3" for ::1 at 2023-02-20 19:22:31 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$Qc8MH7a1M.CBGHo9AgtTBuxMghQImMrd2rfkwpvHKu3KyNmdIuLVu', `users`.`updated_at` = '2023-02-21 00:22:31.451922' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
Redirected to http://localhost:3000/users/3
Completed 302 Found in 296ms (ActiveRecord: 9.0ms | Allocations: 8308)


Started GET "/users/3" for ::1 at 2023-02-20 19:22:31 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:77:in `set_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 309)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 501)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 2580)


Started GET "/" for ::1 at 2023-02-20 19:22:32 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 213)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 402)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 862)


Started GET "/" for ::1 at 2023-02-20 19:22:49 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 315)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 560)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 2043)


Started GET "/users/sign_in" for ::1 at 2023-02-20 19:22:52 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 74)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1539)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 1759)
Completed 200 OK in 34ms (Views: 5.7ms | ActiveRecord: 8.0ms | Allocations: 9511)


Started POST "/users/sign_in" for ::1 at 2023-02-20 19:22:58 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test1' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 309ms (ActiveRecord: 1.4ms | Allocations: 3032)


Started GET "/" for ::1 at 2023-02-20 19:22:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 675)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 880)
Completed 200 OK in 16ms (Views: 1.0ms | ActiveRecord: 8.9ms | Allocations: 7015)


Started GET "/users/3/edit" for ::1 at 2023-02-20 19:23:00 -0500
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/edit.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 3.6ms | Allocations: 2338)
  Rendered users/edit.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2485)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 2704)
Completed 200 OK in 15ms (Views: 5.9ms | ActiveRecord: 3.3ms | Allocations: 5382)


Started PATCH "/users/3" for ::1 at 2023-02-20 19:23:04 -0500
Processing by UsersController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "name"=>"test1", "email"=>"test1@gmail.com", "address"=>"1521 GraduateLn", "credit_card"=>"", "phone_number"=>""}, "commit"=>"Update User", "id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test1@gmail.com' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test1' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE `users` SET `users`.`encrypted_password` = '$2a$12$l.B7VMM0VeFz9BJfyRfPEOVyMc/pCdY8J2ML7vz7xg1bnssfwaJQS', `users`.`updated_at` = '2023-02-21 00:23:04.716775' WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:49:in `block in update'
DEPRECATION WARNING: [Devise] bypass option is deprecated and it will be removed in future version of Devise.
Please use bypass_sign_in method instead.
Example:

  bypass_sign_in(user)
 (called from block in update at /Users/scrowney/Desktop/OODD/Proj2/phase3/Nozama---Book-Shopping-System/BookShop/app/controllers/users_controller.rb:50)
Redirected to http://localhost:3000/users/3
Completed 302 Found in 292ms (ActiveRecord: 7.5ms | Allocations: 7907)


Started GET "/users/3" for ::1 at 2023-02-20 19:23:04 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 91)
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | Allocations: 283)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2184)


Started GET "/" for ::1 at 2023-02-20 19:23:05 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 554)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 742)
Completed 200 OK in 12ms (Views: 2.2ms | ActiveRecord: 4.4ms | Allocations: 3430)


Started GET "/reviews" for ::1 at 2023-02-20 19:23:18 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (2.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 5125)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 5344)
Completed 200 OK in 66ms (Views: 9.5ms | ActiveRecord: 23.2ms | Allocations: 19141)


Started GET "/" for ::1 at 2023-02-20 19:23:54 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 542)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 730)
Completed 200 OK in 13ms (Views: 2.4ms | ActiveRecord: 4.8ms | Allocations: 3484)


Started GET "/purchases" for ::1 at 2023-02-20 19:23:55 -0500
Processing by PurchasesController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering purchases/index.html.erb within layouts/application
  [1m[36mPurchase Load (1.4ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`user_id` = 3[0m
  ↳ app/views/purchases/index.html.erb:17
  Rendered purchases/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1313)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 1537)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 2.6ms | Allocations: 3944)


Started GET "/" for ::1 at 2023-02-20 19:23:57 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 574)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 762)
Completed 200 OK in 13ms (Views: 2.4ms | ActiveRecord: 4.7ms | Allocations: 3559)


Started DELETE "/users/3" for ::1 at 2023-02-20 19:23:59 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mReview Destroy (2.1ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mCart Destroy (4.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 11.8ms | Allocations: 8508)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_development`.`cart_details`, CONSTRAINT `fk_rails_cacf5c53ab` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))):
  
app/controllers/users_controller.rb:63:in `destroy'
Started GET "/users/3" for ::1 at 2023-02-20 19:24:52 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 679)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1247)
Completed 200 OK in 19ms (Views: 2.7ms | ActiveRecord: 6.1ms | Allocations: 15293)


Started GET "/" for ::1 at 2023-02-20 19:24:53 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1295)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 1515)
Completed 200 OK in 30ms (Views: 5.8ms | ActiveRecord: 10.4ms | Allocations: 9189)


Started DELETE "/users/3" for ::1 at 2023-02-20 19:24:56 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:78:in `set_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mReview Destroy (2.0ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mCart Destroy (2.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:63:in `destroy'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 16.4ms | Allocations: 10503)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_development`.`cart_details`, CONSTRAINT `fk_rails_cacf5c53ab` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))):
  
app/controllers/users_controller.rb:63:in `destroy'
Started GET "/users/3" for ::1 at 2023-02-20 19:25:40 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 416)
Completed 200 OK in 17ms (Views: 1.0ms | ActiveRecord: 8.5ms | Allocations: 10364)


Started GET "/" for ::1 at 2023-02-20 19:25:41 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 733)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 953)
Completed 200 OK in 30ms (Views: 2.9ms | ActiveRecord: 14.4ms | Allocations: 7651)


Started DELETE "/users/3" for ::1 at 2023-02-20 19:25:43 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `destroy'
  [1m[36mReview Destroy (2.1ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ (byebug):1:in `destroy'
  [1m[36mCart Destroy (2.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ (byebug):1:in `destroy'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ (byebug):1:in `destroy'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mReview Destroy (11.2ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCart Destroy (3.7ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
Completed 500 Internal Server Error in 276217ms (ActiveRecord: 39.0ms | Allocations: 75227)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_development`.`cart_details`, CONSTRAINT `fk_rails_cacf5c53ab` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))):
  
app/controllers/users_controller.rb:64:in `destroy'
Started GET "/" for ::1 at 2023-02-20 19:31:12 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1593)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2108)
Completed 200 OK in 31ms (Views: 3.9ms | ActiveRecord: 12.4ms | Allocations: 20594)


Started DELETE "/users/3" for ::1 at 2023-02-20 19:31:14 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mReview Load (1.8ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mReview Destroy (2.0ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCartDetail Load (1.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCartDetail Destroy (1.5ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCartDetail Load (0.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
Completed 500 Internal Server Error in 2975ms (ActiveRecord: 27.8ms | Allocations: 78373)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'cart_details.user_id' in 'where clause'):
  
app/controllers/users_controller.rb:64:in `destroy'
Started GET "/" for ::1 at 2023-02-20 19:32:15 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 3)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1593)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2108)
Completed 200 OK in 29ms (Views: 3.8ms | ActiveRecord: 11.6ms | Allocations: 20598)


Started DELETE "/users/3" for ::1 at 2023-02-20 19:32:16 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:7:in `authenticate_valid_user!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mReview Load (1.5ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mReview Destroy (1.7ms)[0m  [1m[31mDELETE FROM `reviews` WHERE `reviews`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCartDetail Load (1.9ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCartDetail Destroy (1.4ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:64:in `destroy'
Redirected to http://localhost:3000/users/sign_out
Completed 302 Found in 2857ms (ActiveRecord: 25.6ms | Allocations: 76458)


Started GET "/users/sign_out" for ::1 at 2023-02-20 19:32:19 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as :verify_signed_out_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 3019)


Started GET "/" for ::1 at 2023-02-20 19:32:19 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 231)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 438)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 966)


Started GET "/users/sign_in" for ::1 at 2023-02-20 19:32:25 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | Allocations: 295)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3559)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3778)
Completed 200 OK in 21ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 5760)


Started POST "/users/sign_in" for ::1 at 2023-02-20 19:32:30 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test1' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 6ms (ActiveRecord: 1.3ms | Allocations: 2028)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test1", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 63)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1360)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1555)
Completed 200 OK in 285ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2784)


Started POST "/users/sign_in" for ::1 at 2023-02-20 19:32:33 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"test2", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'test2' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 301ms (ActiveRecord: 1.3ms | Allocations: 4029)


Started GET "/" for ::1 at 2023-02-20 19:32:34 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 4[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 4)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 614)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 813)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 3740)


Started GET "/reviews" for ::1 at 2023-02-20 19:32:37 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 5010)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 5230)
Completed 200 OK in 42ms (Views: 11.4ms | ActiveRecord: 12.0ms | Allocations: 14014)


Started GET "/reviews/2/edit" for ::1 at 2023-02-20 19:32:40 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 6.2ms | Allocations: 2273)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2719)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 2920)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 2.2ms | Allocations: 5179)


Started GET "/reviews/1/edit" for ::1 at 2023-02-20 19:32:43 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
Completed 404 Not Found in 3ms (ActiveRecord: 1.2ms | Allocations: 1346)


  
ActiveRecord::RecordNotFound (Couldn't find Review with 'id'=1):
  
app/controllers/reviews_controller.rb:102:in `set_review'
Started GET "/reviews/2/edit" for ::1 at 2023-02-20 19:32:48 -0500
Processing by ReviewsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mReview Load (1.6ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:102:in `set_review'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:11:in `authenticate_valid_user!'
  Rendering layout layouts/application.html.erb
  Rendering reviews/edit.html.erb within layouts/application
  Rendered reviews/_form.html.erb (Duration: 5.0ms | Allocations: 1179)
  Rendered reviews/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1351)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 1548)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 2.7ms | Allocations: 3679)


Started GET "/reviews" for ::1 at 2023-02-20 19:32:51 -0500
Processing by ReviewsController#index as HTML
  [1m[36mReview Load (1.9ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews`[0m
  ↳ app/controllers/reviews_controller.rb:29:in `index'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/reviews_controller.rb:30:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering reviews/index.html.erb within layouts/application
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/reviews/index.html.erb:3
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/views/reviews/index.html.erb:9
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/reviews/index.html.erb:16
  Rendered reviews/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3867)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 4055)
Completed 200 OK in 20ms (Views: 8.7ms | ActiveRecord: 7.9ms | Allocations: 5783)


Started GET "/users/sign_out" for ::1 at 2023-02-20 19:33:48 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 2.8ms | Allocations: 4595)


Started GET "/" for ::1 at 2023-02-20 19:33:48 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 223)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 434)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 988)


Started GET "/users/sign_up" for ::1 at 2023-02-20 19:33:50 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.2ms | Allocations: 241)
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 175)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 4176)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 4395)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 5970)


Started POST "/users" for ::1 at 2023-02-20 19:34:00 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test4@gmail.com", "username"=>"test4", "name"=>"test4", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test4@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test4@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test4' LIMIT 1[0m
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('test4@gmail.com', '$2a$12$/63SLUm9UZHdlDjuSjv66u0GAIQUkioT1waXqjOznq.6ss5O/mmv6', '2023-02-21 00:34:01.216729', '2023-02-21 00:34:01.216729', 'test4', 'test4')[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 297ms (ActiveRecord: 5.6ms | Allocations: 10326)


Started GET "/" for ::1 at 2023-02-20 19:34:01 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 5)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2023-02-21 00:34:01.238671', '2023-02-21 00:34:01.238671', 5)[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 553)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 745)
Completed 200 OK in 13ms (Views: 1.0ms | ActiveRecord: 5.6ms | Allocations: 7452)


Started GET "/books" for ::1 at 2023-02-20 19:34:04 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3420)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3663)
Completed 200 OK in 27ms (Views: 6.5ms | ActiveRecord: 9.8ms | Allocations: 11436)


Started GET "/books/3" for ::1 at 2023-02-20 19:34:06 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 3 AND `cart_details`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1379)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 1568)
Completed 200 OK in 26ms (Views: 10.3ms | ActiveRecord: 5.3ms | Allocations: 5439)


Started GET "/cart/add_to_cart?book_id=3&quantity=1&commit=Add+to+cart" for ::1 at 2023-02-20 19:34:09 -0500
Processing by CartsController#add_to_cart as HTML
  Parameters: {"book_id"=>"3", "quantity"=>"1", "commit"=>"Add to cart"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:5:in `add_to_cart'
  [1m[36mCartDetail Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 3 AND `cart_details`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:7:in `add_to_cart'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mCartDetail Create (6.6ms)[0m  [1m[32mINSERT INTO `cart_details` (`quantity`, `created_at`, `updated_at`, `book_id`, `cart_id`) VALUES (1, '2023-02-21 00:34:09.245263', '2023-02-21 00:34:09.245263', 3, 3)[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
Redirected to http://localhost:3000/books
Completed 302 Found in 31ms (ActiveRecord: 15.6ms | Allocations: 8751)


Started GET "/books" for ::1 at 2023-02-20 19:34:09 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.0ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2380)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2582)
Completed 200 OK in 27ms (Views: 6.0ms | ActiveRecord: 11.7ms | Allocations: 9235)


Started GET "/cart_details" for ::1 at 2023-02-20 19:34:10 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (0.9ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2213)
Completed 200 OK in 18ms (Views: 6.5ms | ActiveRecord: 5.1ms | Allocations: 6039)


Started GET "/purchases/new?cart_id=3" for ::1 at 2023-02-20 19:34:12 -0500
Processing by PurchasesController#new as HTML
  Parameters: {"cart_id"=>"3"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:15:in `new'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:15:in `new'
  [1m[36mCartDetail Load (1.7ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:16:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:17:in `map'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:33:in `new'
  Rendering layout layouts/application.html.erb
  Rendering purchases/new.html.erb within layouts/application
  Rendered purchases/_form.html.erb (Duration: 4.6ms | Allocations: 2494)
  Rendered purchases/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2909)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3128)
Completed 200 OK in 40ms (Views: 9.1ms | ActiveRecord: 10.6ms | Allocations: 12827)


Started POST "/purchases" for ::1 at 2023-02-20 19:34:21 -0500
Processing by PurchasesController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "purchase"=>{"user_id"=>"5", "cart_id"=>"3", "credit_card"=>"9999999999999999", "phone_number"=>"9999999911", "address"=>"asdasd", "total_price"=>"230"}, "commit"=>"Create Purchase"}
  [1m[36mCartDetail Load (1.3ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:48:in `map'
  [1m[36mCACHE CartDetail Load (0.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:49:in `map'
  [1m[36mBook Load (2.0ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:52:in `each_with_index'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/purchases_controller.rb:62:in `block in create'
  [1m[36mBook Update (1.8ms)[0m  [1m[33mUPDATE `books` SET `books`.`stock` = 0, `books`.`updated_at` = '2023-02-21 00:34:21.244123' WHERE `books`.`id` = 3[0m
  ↳ app/controllers/purchases_controller.rb:62:in `block in create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/purchases_controller.rb:62:in `block in create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/purchases_controller.rb:65:in `block in create'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:65:in `block in create'
  [1m[36mPurchase Create (1.7ms)[0m  [1m[32mINSERT INTO `purchases` (`credit_card`, `phone_number`, `address`, `total_price`, `created_at`, `updated_at`, `user_id`, `cart_id`) VALUES ('9999999999999999', '9999999911', 'asdasd', 230, '2023-02-21 00:34:21.261849', '2023-02-21 00:34:21.261849', 5, 3)[0m
  ↳ app/controllers/purchases_controller.rb:65:in `block in create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/purchases_controller.rb:65:in `block in create'
Redirected to http://localhost:3000/purchases/1
Completed 302 Found in 37ms (ActiveRecord: 15.3ms | Allocations: 9951)


Started GET "/purchases/1" for ::1 at 2023-02-20 19:34:21 -0500
Processing by PurchasesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPurchase Load (1.1ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:101:in `set_purchase'
  Rendering layout layouts/application.html.erb
  Rendering purchases/show.html.erb within layouts/application
  Rendered purchases/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 340)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 520)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.1ms | Allocations: 1825)


Started GET "/" for ::1 at 2023-02-20 19:34:26 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 5)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2023-02-21 00:34:26.304718', '2023-02-21 00:34:26.304718', 5)[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 554)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 742)
Completed 200 OK in 25ms (Views: 2.0ms | ActiveRecord: 10.8ms | Allocations: 6945)


Started GET "/purchases" for ::1 at 2023-02-20 19:34:27 -0500
Processing by PurchasesController#index as HTML
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/purchases_controller.rb:6:in `index'
  Rendering layout layouts/application.html.erb
  Rendering purchases/index.html.erb within layouts/application
  [1m[36mPurchase Load (1.5ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`user_id` = 5[0m
  ↳ app/views/purchases/index.html.erb:17
  Rendered purchases/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1105)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1284)
Completed 200 OK in 13ms (Views: 3.5ms | ActiveRecord: 3.8ms | Allocations: 2691)


Started GET "/" for ::1 at 2023-02-20 19:34:29 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 5)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 726)
Completed 200 OK in 11ms (Views: 2.0ms | ActiveRecord: 3.7ms | Allocations: 3395)


Started GET "/users/sign_out" for ::1 at 2023-02-20 19:34:33 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms | Allocations: 1890)


Started GET "/" for ::1 at 2023-02-20 19:34:33 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 402)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 864)


Started GET "/admins/sign_in" for ::1 at 2023-02-20 19:34:35 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1451)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 1639)
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 7901)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:34:42 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatitx", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'illuminatitx' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 288ms (ActiveRecord: 1.3ms | Allocations: 1804)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"illuminatitx", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.0ms | Allocations: 48)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1267)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1452)
Completed 200 OK in 242ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2025)


Started POST "/admins/sign_in" for ::1 at 2023-02-20 19:34:49 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "admin"=>{"username"=>"coffee", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'coffee' ORDER BY `users`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 274ms (ActiveRecord: 1.4ms | Allocations: 2476)


Started GET "/" for ::1 at 2023-02-20 19:34:49 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1195)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1390)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 1855)


Started GET "/users" for ::1 at 2023-02-20 19:34:52 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3634)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3852)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 2.9ms | Allocations: 5004)


Started GET "/" for ::1 at 2023-02-20 19:34:58 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1182)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 1371)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.7ms | Allocations: 1906)


Started GET "/users" for ::1 at 2023-02-20 19:35:17 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3022)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 3210)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 4.5ms | Allocations: 3624)


Started DELETE "/users/5" for ::1 at 2023-02-20 19:35:28 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"5"}
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mReview Load (1.4ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Load (1.4ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Destroy (1.8ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`id` = 2[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Destroy (2.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
Completed 500 Internal Server Error in 3333ms (ActiveRecord: 20.6ms | Allocations: 17152)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_development`.`purchases`, CONSTRAINT `fk_rails_7ccaadabab` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))):
  
app/controllers/users_controller.rb:67:in `destroy'
Started GET "/" for ::1 at 2023-02-20 19:36:07 -0500
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 15854)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 16445)
Completed 200 OK in 22ms (Views: 11.3ms | ActiveRecord: 5.4ms | Allocations: 20760)


Started GET "/users" for ::1 at 2023-02-20 19:36:10 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (2.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3832)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4052)
Completed 200 OK in 16ms (Views: 9.9ms | ActiveRecord: 4.2ms | Allocations: 5515)


Started DELETE "/users/5" for ::1 at 2023-02-20 19:36:12 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"5"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mReview Load (1.6ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Load (1.6ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Destroy (1.8ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`id` = 2[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Destroy (1.7ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
Completed 500 Internal Server Error in 2389ms (ActiveRecord: 24.5ms | Allocations: 73716)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`bookshop_development`.`purchases`, CONSTRAINT `fk_rails_7ccaadabab` FOREIGN KEY (`cart_id`) REFERENCES `carts` (`id`))):
  
app/controllers/users_controller.rb:67:in `destroy'
Started GET "/" for ::1 at 2023-02-20 19:36:48 -0500
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 15854)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 16445)
Completed 200 OK in 21ms (Views: 11.2ms | ActiveRecord: 4.5ms | Allocations: 20760)


Started GET "/users" for ::1 at 2023-02-20 19:36:49 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3832)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4052)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 2.6ms | Allocations: 5515)


Started DELETE "/users/5" for ::1 at 2023-02-20 19:36:51 -0500
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"5"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/users_controller.rb:79:in `set_user'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Load (1.3ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Destroy (1.6ms)[0m  [1m[31mDELETE FROM `cart_details` WHERE `cart_details`.`id` = 2[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mPurchase Load (1.3ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`cart_id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mPurchase Destroy (1.8ms)[0m  [1m[31mDELETE FROM `purchases` WHERE `purchases`.`id` = 1[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCartDetail Load (1.2ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 4[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mPurchase Load (0.9ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`cart_id` = 4[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 4[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mPurchase Load (1.0ms)[0m  [1m[34mSELECT `purchases`.* FROM `purchases` WHERE `purchases`.`user_id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 5[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:67:in `destroy'
Redirected to http://localhost:3000/users
Completed 302 Found in 1883ms (ActiveRecord: 37.9ms | Allocations: 87930)


Started GET "/users" for ::1 at 2023-02-20 19:36:53 -0500
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2792)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2989)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 1.8ms | Allocations: 3485)


Started GET "/users" for ::1 at 2023-02-20 19:40:24 -0500
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by UsersController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.0ms)[0m  [1m[34mSELECT `admins`.* FROM `admins` WHERE `admins`.`id` = 2 ORDER BY `admins`.`id` ASC LIMIT 1[0m
  ↳ app/views/users/index.html.erb:1
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/views/users/index.html.erb:15
  Rendered users/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 16809)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 17342)
Completed 200 OK in 27ms (Views: 11.9ms | ActiveRecord: 9.9ms | Allocations: 21642)


Started GET "/" for ::1 at 2023-02-20 19:40:26 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mAdmin Load (1.5ms)[0m  [1m[34mSELECT `admins`.* FROM `admins` WHERE `admins`.`id` = 2 ORDER BY `admins`.`id` ASC LIMIT 1[0m
  ↳ app/views/home/index.html.erb:2
  Rendered home/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1939)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2184)
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 1.5ms | Allocations: 3700)


Started GET "/admins/sign_out" for ::1 at 2023-02-20 19:40:29 -0500
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mAdmin Load (1.4ms)[0m  [1m[34mSELECT `admins`.* FROM `admins` WHERE `admins`.`id` = 2 ORDER BY `admins`.`id` ASC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 1.4ms | Allocations: 4419)


Started GET "/" for ::1 at 2023-02-20 19:40:30 -0500
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 242)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 460)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1016)


Started GET "/users/sign_up" for ::1 at 2023-02-20 19:40:31 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 279)
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 390)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 5617)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 5836)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 7806)


Started POST "/users" for ::1 at 2023-02-20 19:40:42 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test5@gmail.com", "username"=>"test5", "name"=>"test5", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test5@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = 'test5@gmail.com' LIMIT 1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`username` = 'test5' LIMIT 1[0m
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO `users` (`email`, `encrypted_password`, `created_at`, `updated_at`, `username`, `name`) VALUES ('test5@gmail.com', '$2a$12$zNWtvm1CsQKs.Oz9Mvop6u2oLtv.dvj4PEf6lQ1KMuivfVA99EYdS', '2023-02-21 00:40:43.203119', '2023-02-21 00:40:43.203119', 'test5', 'test5')[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 316ms (ActiveRecord: 5.8ms | Allocations: 12127)


Started GET "/" for ::1 at 2023-02-20 19:40:43 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:9:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `carts` WHERE `carts`.`user_id` = 6[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `purchases` WHERE `purchases`.`cart_id` IN (SELECT `carts`.`id` FROM `carts` WHERE `carts`.`user_id` = 6)[0m
  ↳ app/controllers/home_controller.rb:12:in `create_cart'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`, `user_id`) VALUES ('2023-02-21 00:40:43.231961', '2023-02-21 00:40:43.231961', 6)[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/home_controller.rb:13:in `create_cart'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 658)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 863)
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 9.1ms | Allocations: 15634)


Started GET "/books" for ::1 at 2023-02-20 19:40:55 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.3ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3414)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 3657)
Completed 200 OK in 115ms (Views: 4.4ms | ActiveRecord: 24.6ms | Allocations: 21853)


Started GET "/books/4" for ::1 at 2023-02-20 19:40:58 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 6 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 5 AND `cart_details`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2012)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2235)
Completed 200 OK in 27ms (Views: 5.9ms | ActiveRecord: 7.8ms | Allocations: 7634)


Started GET "/cart/add_to_cart?book_id=4&quantity=3&commit=Add+to+cart" for ::1 at 2023-02-20 19:41:00 -0500
Processing by CartsController#add_to_cart as HTML
  Parameters: {"book_id"=>"4", "quantity"=>"3", "commit"=>"Add to cart"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:6:in `add_to_cart'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 6 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:6:in `add_to_cart'
  [1m[36mCartDetail Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 5 AND `cart_details`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:9:in `add_to_cart'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:9:in `add_to_cart'
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:9:in `add_to_cart'
  [1m[36mCartDetail Create (5.6ms)[0m  [1m[32mINSERT INTO `cart_details` (`quantity`, `created_at`, `updated_at`, `book_id`, `cart_id`) VALUES (3, '2023-02-21 00:41:05.734859', '2023-02-21 00:41:05.734859', 4, 5)[0m
  ↳ app/controllers/carts_controller.rb:9:in `add_to_cart'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:9:in `add_to_cart'
Redirected to http://localhost:3000/books
Completed 302 Found in 4957ms (ActiveRecord: 20.5ms | Allocations: 61860)


Started GET "/books" for ::1 at 2023-02-20 19:41:05 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (0.9ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2352)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2555)
Completed 200 OK in 15ms (Views: 2.0ms | ActiveRecord: 7.7ms | Allocations: 9254)


Started GET "/cart_details" for ::1 at 2023-02-20 19:41:09 -0500
Processing by CartDetailsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 6 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/cart_details_controller.rb:6:in `index'
  [1m[36mCartDetail Load (1.1ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 5[0m
  ↳ app/controllers/cart_details_controller.rb:8:in `index'
  Rendering layout layouts/application.html.erb
  Rendering cart_details/index.html.erb within layouts/application
  [1m[36mBook Load (1.7ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  ↳ app/views/cart_details/index.html.erb:23
  Rendered cart_details/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1998)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2217)
Completed 200 OK in 23ms (Views: 10.2ms | ActiveRecord: 5.9ms | Allocations: 6056)


Started GET "/books/4" for ::1 at 2023-02-20 19:41:11 -0500
Processing by BooksController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mBook Load (1.2ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:107:in `set_book'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:45:in `show'
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 6 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:47:in `show'
  [1m[36mCartDetail Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 5 AND `cart_details`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:49:in `show'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1333)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1523)
Completed 200 OK in 15ms (Views: 2.3ms | ActiveRecord: 5.2ms | Allocations: 5066)


Started GET "/cart/add_to_cart?book_id=4&quantity=8&commit=Update+cart" for ::1 at 2023-02-20 19:42:08 -0500
Processing by CartsController#add_to_cart as HTML
  Parameters: {"book_id"=>"4", "quantity"=>"8", "commit"=>"Update cart"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:6:in `add_to_cart'
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`user_id` = 6 ORDER BY created_at DESC LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:6:in `add_to_cart'
  [1m[36mCartDetail Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `cart_details` WHERE `cart_details`.`cart_id` = 5 AND `cart_details`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:8:in `add_to_cart'
  [1m[36mCartDetail Load (1.0ms)[0m  [1m[34mSELECT `cart_details`.* FROM `cart_details` WHERE `cart_details`.`cart_id` = 5 AND `cart_details`.`book_id` = 4[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT `books`.* FROM `books` WHERE `books`.`id` = 4 LIMIT 1[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
  [1m[36mCartDetail Update (1.2ms)[0m  [1m[33mUPDATE `cart_details` SET `cart_details`.`quantity` = 8, `cart_details`.`updated_at` = '2023-02-21 00:43:12.043408' WHERE `cart_details`.`id` = 3[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/carts_controller.rb:14:in `add_to_cart'
Redirected to http://localhost:3000/books
Completed 302 Found in 63263ms (ActiveRecord: 15.0ms | Allocations: 16671)


Started GET "/books" for ::1 at 2023-02-20 19:43:12 -0500
Processing by BooksController#index as HTML
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT `books`.* FROM `books`[0m
  ↳ app/controllers/books_controller.rb:30:in `index'
  [1m[36mReview Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 1 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Load (1.2ms)[0m  [1m[34mSELECT `reviews`.* FROM `reviews` WHERE `reviews`.`book_id` = 1[0m
  ↳ app/controllers/books_controller.rb:35:in `map'
  [1m[36mReview Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 2 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 3 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 4 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 5 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 7 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  [1m[36mReview Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `reviews` WHERE `reviews`.`book_id` = 8 LIMIT 1[0m
  ↳ app/controllers/books_controller.rb:32:in `block in index'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/views/books/index.html.erb:38
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2293)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 2485)
Completed 200 OK in 34ms (Views: 3.4ms | ActiveRecord: 8.1ms | Allocations: 9103)


